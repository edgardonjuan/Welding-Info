<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welding Practice & Study Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        color-scheme: dark;
        --bg: #05060a;
        --card: rgba(15, 24, 39, 0.86);
        --card-border: rgba(148, 163, 184, 0.12);
        --card-border-strong: rgba(148, 163, 184, 0.4);
        --accent: #38bdf8;
        --accent-soft: rgba(56, 189, 248, 0.12);
        --accent-strong: rgba(56, 189, 248, 0.6);
        --text: #f8fafc;
        --text-subtle: #94a3b8;
        --text-muted: #64748b;
        --shadow: 0 30px 60px -25px rgba(15, 118, 110, 0.35);
        font-size: 16px;
      }

      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }

      body {
        font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
        background: radial-gradient(circle at 10% 10%, rgba(56, 189, 248, 0.09), transparent 50%),
          radial-gradient(circle at 90% 0%, rgba(14, 165, 233, 0.18), transparent 45%),
          linear-gradient(160deg, rgba(8, 47, 73, 0.6), transparent 65%), var(--bg);
        color: var(--text);
        min-height: 100vh;
      }

      header {
        position: sticky;
        top: 0;
        backdrop-filter: blur(16px);
        background: rgba(2, 6, 23, 0.75);
        border-bottom: 1px solid rgba(148, 163, 184, 0.08);
        padding: 1.25rem 0;
        z-index: 10;
      }

      .wrapper {
        width: min(1120px, 94vw);
        margin: 0 auto;
      }

      .top-bar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1rem;
      }

      .title {
        font-size: clamp(1.5rem, 2.4vw + 1rem, 2.75rem);
        font-weight: 800;
        letter-spacing: -0.02em;
      }

      nav {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
        justify-content: flex-end;
      }

      nav a {
        color: var(--text-subtle);
        text-decoration: none;
        font-size: 0.95rem;
        font-weight: 600;
        padding: 0.55rem 0.95rem;
        border-radius: 999px;
        border: 1px solid transparent;
        transition: all 0.2s ease;
      }

      nav a:hover,
      nav a:focus {
        color: var(--text);
        border-color: var(--accent-strong);
        background: rgba(56, 189, 248, 0.08);
        outline: none;
      }

      main {
        padding: 3rem 0 4rem;
        display: grid;
        gap: 2.5rem;
      }

      section {
        display: grid;
        gap: 1.5rem;
      }

      h2 {
        font-size: clamp(1.35rem, 1.1vw + 1rem, 2rem);
        font-weight: 700;
      }

      p.lead {
        max-width: 56ch;
        color: var(--text-subtle);
        font-size: 1.05rem;
      }

      .cards {
        display: grid;
        gap: 1.25rem;
      }

      @media (min-width: 768px) {
        .cards.two {
          grid-template-columns: repeat(2, minmax(0, 1fr));
        }

        .cards.three {
          grid-template-columns: repeat(3, minmax(0, 1fr));
        }
      }

      .card {
        background: var(--card);
        border-radius: 24px;
        padding: 1.75rem;
        border: 1px solid var(--card-border);
        box-shadow: var(--shadow);
        transition: border 0.2s ease, transform 0.2s ease;
      }

      .card:hover {
        border-color: var(--card-border-strong);
        transform: translateY(-2px);
      }

      .progress-ring {
        position: relative;
        display: grid;
        place-items: center;
        width: 140px;
        aspect-ratio: 1;
      }

      .progress-ring svg {
        transform: rotate(-90deg);
      }

      .progress-ring span {
        position: absolute;
        font-weight: 700;
        font-size: 1.35rem;
      }

      .tracker-list {
        display: grid;
        gap: 0.9rem;
      }

      .tracker-item {
        display: grid;
        grid-template-columns: auto 1fr auto;
        gap: 1rem;
        align-items: center;
        padding: 1rem 1.25rem;
        border-radius: 18px;
        background: rgba(15, 23, 42, 0.9);
        border: 1px solid rgba(148, 163, 184, 0.14);
        transition: border 0.2s ease, box-shadow 0.2s ease;
      }

      .tracker-item[data-state="done"] {
        border-color: rgba(56, 189, 248, 0.5);
        box-shadow: 0 16px 32px -20px rgba(56, 189, 248, 0.45);
      }

      .tracker-item h3 {
        font-size: 1rem;
        font-weight: 600;
      }

      .tracker-item p {
        color: var(--text-muted);
        font-size: 0.9rem;
      }

      .badge {
        font-size: 0.75rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        color: var(--accent);
        background: rgba(56, 189, 248, 0.14);
        border-radius: 999px;
        padding: 0.35rem 0.7rem;
        font-weight: 600;
      }

      .toggle {
        --size: 22px;
        appearance: none;
        width: calc(var(--size) * 2.1);
        height: var(--size);
        border-radius: 999px;
        background: rgba(148, 163, 184, 0.24);
        border: 1px solid rgba(148, 163, 184, 0.45);
        position: relative;
        cursor: pointer;
        transition: background 0.2s ease, border 0.2s ease;
      }

      .toggle::after {
        content: "";
        position: absolute;
        top: 50%;
        left: 4px;
        translate: 0 -50%;
        width: calc(var(--size) - 6px);
        aspect-ratio: 1;
        border-radius: 50%;
        background: var(--text-subtle);
        transition: transform 0.2s ease, background 0.2s ease;
        box-shadow: 0 3px 12px rgba(15, 23, 42, 0.45);
      }

      .toggle:checked {
        background: rgba(56, 189, 248, 0.28);
        border-color: var(--accent-strong);
      }

      .toggle:checked::after {
        transform: translateX(115%);
        background: var(--accent);
      }

      .progress-bar {
        width: 100%;
        height: 8px;
        border-radius: 999px;
        background: rgba(15, 23, 42, 0.9);
        overflow: hidden;
      }

      .progress-bar span {
        display: block;
        height: 100%;
        background: linear-gradient(90deg, rgba(56, 189, 248, 0.2), rgba(56, 189, 248, 0.75));
        transform-origin: left;
      }

      .notes-card textarea {
        width: 100%;
        min-height: 120px;
        border-radius: 16px;
        border: 1px solid rgba(148, 163, 184, 0.25);
        background: rgba(2, 6, 23, 0.75);
        color: var(--text);
        padding: 1rem 1.2rem;
        font-size: 0.95rem;
        resize: vertical;
        transition: border 0.2s ease;
      }

      .notes-card textarea:focus {
        outline: none;
        border-color: rgba(56, 189, 248, 0.55);
        box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.45);
      }

      .notes-card button,
      .card button.primary {
        padding: 0.75rem 1.15rem;
        border-radius: 14px;
        border: none;
        font-weight: 600;
        color: var(--bg);
        background: linear-gradient(135deg, #22d3ee, #38bdf8 55%, #2563eb);
        cursor: pointer;
        transition: transform 0.2s ease, filter 0.2s ease;
      }

      .notes-card button:hover,
      .card button.primary:hover {
        transform: translateY(-1px);
        filter: brightness(1.05);
      }

      .notes-card button.secondary {
        background: transparent;
        color: var(--text-subtle);
        border: 1px solid rgba(148, 163, 184, 0.4);
        margin-left: 0.75rem;
      }

      .notes-card button.secondary:hover {
        color: var(--text);
        border-color: rgba(56, 189, 248, 0.5);
      }

      .notes-card .actions {
        display: flex;
        justify-content: flex-end;
        margin-top: 1rem;
      }

      .empty-message {
        font-size: 0.9rem;
        color: var(--text-muted);
        margin-top: 1rem;
        text-align: center;
      }

      footer {
        padding: 3rem 0 4rem;
        color: var(--text-muted);
        font-size: 0.85rem;
        text-align: center;
      }

      .pill-menu {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
      }

      .pill-menu button {
        border-radius: 999px;
        border: 1px solid transparent;
        background: rgba(148, 163, 184, 0.08);
        color: var(--text-subtle);
        font-size: 0.85rem;
        font-weight: 600;
        padding: 0.55rem 1.05rem;
        cursor: pointer;
        transition: all 0.2s ease;
      }

      .pill-menu button.active {
        background: rgba(56, 189, 248, 0.18);
        color: var(--text);
        border-color: rgba(56, 189, 248, 0.45);
      }

      .pill-menu button:hover {
        color: var(--text);
        border-color: rgba(56, 189, 248, 0.35);
      }

      .flex-between {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 1rem;
        flex-wrap: wrap;
      }

      .subtle {
        color: var(--text-muted);
        font-size: 0.9rem;
      }

      .reading-list {
        display: grid;
        gap: 1rem;
      }

      .reading-list article {
        padding: 1.35rem 1.5rem;
        border-radius: 20px;
        border: 1px solid rgba(148, 163, 184, 0.15);
        background: rgba(15, 23, 42, 0.88);
        display: grid;
        gap: 0.6rem;
      }

      .reading-list a {
        color: var(--text);
        font-weight: 600;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      .reading-list a svg {
        width: 18px;
        height: 18px;
      }

      .reading-list a span {
        font-size: 0.85rem;
        color: var(--text-subtle);
        font-weight: 500;
      }

      .reading-list .tags {
        display: flex;
        flex-wrap: wrap;
        gap: 0.35rem;
      }

      .reading-list .tag {
        padding: 0.25rem 0.65rem;
        border-radius: 999px;
        background: rgba(56, 189, 248, 0.16);
        color: var(--accent);
        font-size: 0.75rem;
        font-weight: 600;
        letter-spacing: 0.06em;
      }

      .progress-summary {
        display: grid;
        gap: 1.5rem;
        align-items: start;
      }

      @media (min-width: 900px) {
        .progress-summary {
          grid-template-columns: auto 1fr;
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="wrapper top-bar">
        <div>
          <div class="title">Welding Practice & Study Tracker</div>
          <p class="subtle">Stay accountable across reading, practice reps, and personal notes.</p>
        </div>
        <nav aria-label="Section navigation">
          <a href="#overview">Overview</a>
          <a href="#reading">Reading Log</a>
          <a href="#practice">Practice Sessions</a>
          <a href="#notes">Reflection</a>
        </nav>
      </div>
    </header>

    <main class="wrapper">
      <section id="overview">
        <div class="progress-summary card">
          <div class="progress-ring" aria-hidden="true">
            <svg width="140" height="140" viewBox="0 0 120 120">
              <circle cx="60" cy="60" r="52" fill="none" stroke="rgba(148,163,184,0.2)" stroke-width="8"></circle>
              <circle cx="60" cy="60" r="52" fill="none" stroke="var(--accent)" stroke-linecap="round" stroke-width="8" stroke-dasharray="327" stroke-dashoffset="327"></circle>
            </svg>
            <span id="overall-percentage">0%</span>
          </div>
          <div>
            <h2>Weekly Momentum</h2>
            <p class="lead">
              Toggle each reading or practice block as you complete it. The tracker stores your progress locally so you can come
              back later and pick up right where you left off.
            </p>
            <div class="cards three" style="margin-top: 1.5rem">
              <div class="card" style="padding: 1.1rem 1.3rem">
                <div class="subtle">Reading Complete</div>
                <div class="flex-between" style="margin-top: 0.6rem">
                  <strong id="reading-count" style="font-size: 1.8rem">0%</strong>
                  <div class="progress-bar" style="flex: 1; margin-left: 1rem"><span id="reading-bar" style="width: 0%"></span></div>
                </div>
              </div>
              <div class="card" style="padding: 1.1rem 1.3rem">
                <div class="subtle">Practice Complete</div>
                <div class="flex-between" style="margin-top: 0.6rem">
                  <strong id="practice-count" style="font-size: 1.8rem">0%</strong>
                  <div class="progress-bar" style="flex: 1; margin-left: 1rem"><span id="practice-bar" style="width: 0%"></span></div>
                </div>
              </div>
              <div class="card" style="padding: 1.1rem 1.3rem">
                <div class="subtle">Streak</div>
                <div style="margin-top: 0.6rem">
                  <strong id="streak-count" style="font-size: 1.8rem">0 days</strong>
                  <p class="subtle" style="margin-top: 0.35rem">Longest streak saved locally.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="reading">
        <div class="flex-between">
          <h2>Reading Checklist</h2>
          <div class="pill-menu" role="group" aria-label="Quick filters">
            <button data-filter="all" class="active">All</button>
            <button data-filter="theory">Theory</button>
            <button data-filter="safety">Safety</button>
            <button data-filter="process">Process</button>
          </div>
        </div>
        <div class="cards two">
          <div class="card">
            <div class="tracker-list" id="reading-list"></div>
            <p class="empty-message" hidden>No readings match that filter yet.</p>
          </div>
          <div class="card">
            <h3 style="font-size: 1.1rem; font-weight: 700">How to use this list</h3>
            <p class="subtle" style="margin-top: 0.5rem">
              Each item links to a primer or video. Tap the toggle once you've finished it. Completed readings stay synced in this
              browser via local storage.
            </p>
            <button class="primary" style="margin-top: 1.5rem" data-action="reset-readings">Reset Reading Progress</button>
          </div>
        </div>
      </section>

      <section id="practice">
        <div class="flex-between">
          <h2>Practice Sessions</h2>
          <div class="subtle">Tip: add a reflection note after each session to build habits.</div>
        </div>
        <div class="cards two">
          <div class="card">
            <div class="tracker-list" id="practice-list"></div>
          </div>
          <div class="card notes-card" id="notes">
            <h3 style="font-size: 1.1rem; font-weight: 700">Reflection Notes</h3>
            <p class="subtle" style="margin-top: 0.5rem">What went well? What needs attention next time?</p>
            <textarea id="notes-field" placeholder="Record key learnings, machines used, fit-up issues, etc."></textarea>
            <div class="actions">
              <button class="secondary" data-action="clear-notes">Clear</button>
              <button data-action="save-notes">Save Note</button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      Built for the self-paced welder: use the tracker weekly to keep your practice intentional.
    </footer>

    <template id="tracker-item-template">
      <label class="tracker-item">
        <input class="toggle" type="checkbox" />
        <span>
          <h3></h3>
          <p></p>
          <div class="tags" hidden></div>
        </span>
        <span class="badge"></span>
      </label>
    </template>

    <script>
      const trackerData = {
        readings: [
          {
            id: "mig-basics",
            title: "Intro to MIG Welding Parameters",
            description: "Voltage, wire feed speed, contact tip to work distance",
            category: "process",
            link: "https://weldingtipsandtricks.com/mig-welding-basics.html",
            type: "Article",
            tags: ["process", "setup"],
          },
          {
            id: "safety-gear",
            title: "Personal Protective Equipment Checklist",
            description: "Helmet shade charts, gloves, jacket ratings",
            category: "safety",
            link: "https://www.lincolnelectric.com/en-us/support/welding-safety/Pages/welding-safety-gear.aspx",
            type: "Guide",
            tags: ["safety"],
          },
          {
            id: "joint-prep",
            title: "Preparing Joints for Strong Welds",
            description: "Cleaning, bevels, root gap, and fit-up for mild steel",
            category: "process",
            link: "https://www.millerwelds.com/resource/articles/welding-joint-preparation",
            type: "Article",
            tags: ["process", "fit-up"],
          },
          {
            id: "metallurgy",
            title: "Metallurgy Basics for Fabrication",
            description: "How heat-affected zones behave and why cooling matters",
            category: "theory",
            link: "https://materials.openstax.org/books/introduction-to-materials-science",
            type: "Chapter",
            tags: ["theory"],
          },
          {
            id: "symbols",
            title: "Reading Welding Symbols",
            description: "Blueprint interpretation essentials for fabrication drawings",
            category: "theory",
            link: "https://www.thefabricator.com/thefabricator/article/shopmanagement/welding-symbols-demystified",
            type: "Article",
            tags: ["theory", "blueprint"],
          },
          {
            id: "safety-ventilation",
            title: "Ventilation & Fume Safety",
            description: "Airflow strategies and respirator selection for indoor bays",
            category: "safety",
            link: "https://www.osha.gov/sites/default/files/publications/welding.pdf",
            type: "PDF",
            tags: ["safety", "environment"],
          },
        ],
        practice: [
          {
            id: "pads-of-beads",
            title: "Pads of Beads",
            description: "Run five steady beads focusing on travel speed and gun angle.",
            focus: "Fundamentals",
          },
          {
            id: "lap-joint",
            title: "Lap Joint Fillets",
            description: "Three 3\" coupons, horizontal position, evaluate for undercut.",
            focus: "Positioning",
          },
          {
            id: "t-joint",
            title: "T-Joint Fillets",
            description: "Practice pushing vs pulling to compare penetration.",
            focus: "Technique",
          },
          {
            id: "butt-joint",
            title: "Butt Joint Root Pass",
            description: "1/8\" plate with 1/16\" gap, monitor heat input and tie-in.",
            focus: "Heat control",
          },
          {
            id: "fabrication-mini",
            title: "Mini Fabrication Project",
            description: "Assemble a small frame or rack; track prep, tack, and final welds.",
            focus: "Project",
          },
          {
            id: "cleanup",
            title: "Cleanup & Inspection",
            description: "Grind, wire brush, and photograph your best weld for review.",
            focus: "Quality",
          },
        ],
      };

      const templates = {
        tracker: document.getElementById("tracker-item-template"),
      };

      const state = {
        readings: JSON.parse(localStorage.getItem("reading-progress") || "{}"),
        practice: JSON.parse(localStorage.getItem("practice-progress") || "{}"),
        notes: localStorage.getItem("welding-notes") || "",
        streak: JSON.parse(localStorage.getItem("welding-streak") || "{\"count\":0,\"date\":null}"),
      };

      const readingListEl = document.getElementById("reading-list");
      const practiceListEl = document.getElementById("practice-list");
      const readingCountEl = document.getElementById("reading-count");
      const practiceCountEl = document.getElementById("practice-count");
      const readingBarEl = document.getElementById("reading-bar");
      const practiceBarEl = document.getElementById("practice-bar");
      const overallPercentageEl = document.getElementById("overall-percentage");
      const streakCountEl = document.getElementById("streak-count");
      const notesField = document.getElementById("notes-field");

      const circle = document.querySelector(".progress-ring circle:nth-of-type(2)");
      const circumference = 2 * Math.PI * 52;

      const formatPercent = (value) => `${Math.round(value * 100)}%`;

      function updateStreak(completedToday) {
        const today = new Date().toISOString().slice(0, 10);
        let { count, date } = state.streak;

        if (completedToday) {
          if (date === today) {
            // already counted today
            return;
          }

          const yesterday = new Date(Date.now() - 86400000).toISOString().slice(0, 10);
          if (date === yesterday) {
            count += 1;
          } else {
            count = 1;
          }

          state.streak = { count, date: today };
          localStorage.setItem("welding-streak", JSON.stringify(state.streak));
        }

        streakCountEl.textContent = `${state.streak.count || 0} ${state.streak.count === 1 ? "day" : "days"}`;
      }

      function renderTracker(list, target, type) {
        const fragment = document.createDocumentFragment();

        list.forEach((item) => {
          const node = templates.tracker.content.cloneNode(true);
          const wrapper = node.querySelector(".tracker-item");
          const checkbox = node.querySelector("input");
          const title = node.querySelector("h3");
          const description = node.querySelector("p");
          const badge = node.querySelector(".badge");
          const tags = node.querySelector(".tags");

          title.textContent = item.title;
          description.textContent = item.description;
          badge.textContent = type === "reading" ? item.type : item.focus;
          checkbox.checked = Boolean(state[type][item.id]);
          wrapper.dataset.state = checkbox.checked ? "done" : "pending";

          if (item.tags && item.tags.length) {
            tags.hidden = false;
            item.tags.forEach((tag) => {
              const span = document.createElement("span");
              span.className = "tag";
              span.textContent = tag;
              tags.appendChild(span);
            });
          }

          if (item.link) {
            const anchor = document.createElement("a");
            anchor.href = item.link;
            anchor.target = "_blank";
            anchor.rel = "noopener";
            anchor.innerHTML = `${item.title} <span>â†—</span>`;
            title.replaceWith(anchor);
          }

          checkbox.addEventListener("change", () => {
            state[type][item.id] = checkbox.checked;
            localStorage.setItem(`${type}-progress`, JSON.stringify(state[type]));
            wrapper.dataset.state = checkbox.checked ? "done" : "pending";
            updateProgress();
            updateStreak(type === "practice" && checkbox.checked);
          });

          fragment.appendChild(node);
        });

        target.innerHTML = "";
        target.appendChild(fragment);
      }

      function updateProgress() {
        const readingTotal = trackerData.readings.length;
        const practiceTotal = trackerData.practice.length;
        const readingDone = Object.values(state.readings).filter(Boolean).length;
        const practiceDone = Object.values(state.practice).filter(Boolean).length;

        const readingFraction = readingTotal ? readingDone / readingTotal : 0;
        const practiceFraction = practiceTotal ? practiceDone / practiceTotal : 0;
        const overall = readingTotal + practiceTotal
          ? (readingDone + practiceDone) / (readingTotal + practiceTotal)
          : 0;

        readingCountEl.textContent = formatPercent(readingFraction);
        practiceCountEl.textContent = formatPercent(practiceFraction);
        readingBarEl.style.width = `${readingFraction * 100}%`;
        practiceBarEl.style.width = `${practiceFraction * 100}%`;
        overallPercentageEl.textContent = formatPercent(overall);
        const offset = circumference - overall * circumference;
        circle.style.strokeDasharray = circumference;
        circle.style.strokeDashoffset = offset;
      }

      function bindFilters() {
        const buttons = document.querySelectorAll(".pill-menu button");
        const emptyMessage = document.querySelector("#reading .empty-message");

        buttons.forEach((button) => {
          button.addEventListener("click", () => {
            buttons.forEach((btn) => btn.classList.remove("active"));
            button.classList.add("active");
            const filter = button.dataset.filter;
            const items = readingListEl.querySelectorAll(".tracker-item");
            let visibleCount = 0;

            items.forEach((itemEl) => {
              const badge = itemEl.querySelector(".badge").textContent.toLowerCase();
              const title = itemEl.querySelector("a")?.textContent.toLowerCase() ?? "";
              const matches =
                filter === "all" ||
                title.includes(filter) ||
                badge.includes(filter) ||
                [...itemEl.querySelectorAll(".tag")].some((tag) => tag.textContent.includes(filter));

              itemEl.hidden = !matches;
              if (matches) visibleCount += 1;
            });

            emptyMessage.hidden = visibleCount !== 0;
          });
        });
      }

      function bindNotes() {
        notesField.value = state.notes;

        document.querySelector('[data-action="save-notes"]').addEventListener("click", () => {
          state.notes = notesField.value.trim();
          localStorage.setItem("welding-notes", state.notes);
          notesField.classList.add("saved");
          setTimeout(() => notesField.classList.remove("saved"), 600);
        });

        document.querySelector('[data-action="clear-notes"]').addEventListener("click", () => {
          notesField.value = "";
          state.notes = "";
          localStorage.removeItem("welding-notes");
        });
      }

      function bindResets() {
        document
          .querySelector('[data-action="reset-readings"]')
          .addEventListener("click", () => {
            state.readings = {};
            localStorage.removeItem("reading-progress");
            renderTracker(trackerData.readings, readingListEl, "reading");
            updateProgress();
          });
      }

      renderTracker(trackerData.readings, readingListEl, "reading");
      renderTracker(trackerData.practice, practiceListEl, "practice");
      bindFilters();
      bindNotes();
      bindResets();
      updateProgress();
      updateStreak(false);
    </script>
  </body>
</html>

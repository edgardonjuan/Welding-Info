<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welding Study Hub – Readings</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body data-page="reading">
    <header>
      <div class="wrapper">
        <div class="top-bar">
          <a class="title" href="index.html">Welding Study Hub</a>
          <nav aria-label="Primary navigation">
            <a class="active" href="index.html">Readings</a>
            <a href="practice.html">Practice</a>
            <a href="notes.html">Notes</a>
          </nav>
        </div>
        <nav aria-label="Section navigation">
          <a href="#overview">Dashboard</a>
          <a href="#reading">Readings</a>
          <a href="#practice">Practice</a>
          <a href="#notes">Notes</a>
        </nav>
      </div>
    </header>

    <main class="wrapper">
      <section>
        <div class="card progress-summary">
          <div class="progress-ring" aria-hidden="true">
            <svg width="140" height="140" viewBox="0 0 120 120">
              <circle
                cx="60"
                cy="60"
                r="52"
                fill="none"
                stroke="rgba(148,163,184,0.2)"
                stroke-width="8"
              ></circle>
              <circle
                cx="60"
                cy="60"
                r="52"
                fill="none"
                stroke="var(--accent)"
                stroke-linecap="round"
                stroke-width="8"
                stroke-dasharray="327"
                stroke-dashoffset="327"
              ></circle>
            </svg>
            <span id="overall-percentage">0%</span>
          </div>
          <div>
            <h1 class="page-heading">Curate your welding reading streak</h1>
            <p class="lead">
              Check off lessons as you complete them and build your own linked
              study plan. Progress and notes are saved locally in your browser.
            </p>
            <div class="cards three" style="margin-top: 1.5rem">
              <div class="card" style="padding: 1.1rem 1.3rem">
                <div class="subtle">Reading complete</div>
                <div class="flex-between" style="margin-top: 0.6rem">
                  <strong id="reading-count" style="font-size: 1.8rem"
                    >0%</strong
                  >
                  <div class="progress-bar" style="flex: 1; margin-left: 1rem">
                    <span id="reading-bar" style="width: 0%"></span>
                  </div>
                </div>
              </div>
              <div class="card" style="padding: 1.1rem 1.3rem">
                <div class="subtle">Practice complete</div>
                <div class="flex-between" style="margin-top: 0.6rem">
                  <strong id="practice-count" style="font-size: 1.8rem"
                    >0%</strong
                  >
                  <div class="progress-bar" style="flex: 1; margin-left: 1rem">
                    <span id="practice-bar" style="width: 0%"></span>
                  </div>
                </div>
              </div>
              <div class="card" style="padding: 1.1rem 1.3rem">
                <div class="subtle">Daily streak</div>
                <div style="margin-top: 0.6rem">
                  <strong id="streak-count" style="font-size: 1.8rem"
                    >0 days</strong
                  >
                  <p class="subtle" style="margin-top: 0.35rem">
                    We only update streaks when you log practice completions.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section>
        <div class="section-heading">
          <h2>Reading checklist</h2>
          <p class="subtle">
            Link lessons, diagrams, or quizzes as you find them.
          </p>
        </div>
        <div class="cards two">
          <div class="card">
            <div class="tracker-toolbar">
              <label class="subtle" for="reading-filter">Filter topics</label>
              <select id="reading-filter">
                <option value="all">All readings</option>
                <option value="safety">Safety</option>
                <option value="process">Process</option>
                <option value="theory">Theory</option>
                <option value="blueprint">Blueprints</option>
                <option value="custom">Custom only</option>
              </select>
            </div>
            <div class="tracker-list" id="reading-list"></div>
            <p class="empty-message" hidden>
              No readings match that filter yet.
            </p>
          </div>
          <div class="card personalization-card">
            <h3>Add your own lesson</h3>
            <p class="subtle">
              Save links to videos, diagrams, or quizzes. We'll store your picks
              on this device and add them to the checklist above.
            </p>
            <form id="add-reading-form" class="reading-form" novalidate>
              <div class="field">
                <label for="reading-title">Lesson title</label>
                <input
                  id="reading-title"
                  name="title"
                  type="text"
                  required
                  placeholder="MIG troubleshooting for thin stock"
                />
              </div>
              <div class="field">
                <label for="reading-link">Link</label>
                <input
                  id="reading-link"
                  name="link"
                  type="url"
                  required
                  placeholder="https://example.com/your-resource"
                />
                <small>Links open in a new tab so you keep your tracker.</small>
              </div>
              <div class="field">
                <label for="reading-description">What you'll cover</label>
                <textarea
                  id="reading-description"
                  name="description"
                  rows="3"
                  placeholder="Short note about the diagrams, safety tips, or quiz you'll study"
                ></textarea>
              </div>
              <div class="field">
                <label for="reading-category">Topic tag</label>
                <input
                  id="reading-category"
                  name="category"
                  type="text"
                  placeholder="e.g. safety, symbols, process"
                />
              </div>
              <p class="form-error" data-form-error hidden role="alert"></p>
              <button class="primary" type="submit">Add to checklist</button>
            </form>
            <div id="custom-reading-summary" hidden>
              <h4 style="font-size: 0.95rem; font-weight: 600">
                Your custom lessons
              </h4>
              <ul class="custom-reading-list" id="custom-reading-list"></ul>
              <small class="subtle"
                >Use the × button beside any custom item to remove it from the
                tracker.</small
              >
            </div>
            <div class="form-actions">
              <button
                class="primary"
                type="button"
                data-action="reset-readings"
              >
                Reset reading progress
              </button>
              <button
                class="link-button"
                type="button"
                data-action="clear-custom-readings"
              >
                Remove custom readings
              </button>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer>
      Built for the self-paced welder—stay consistent and keep the arc time up.
    </footer>

    <template id="tracker-item-template">
      <div class="tracker-item" data-state="pending">
        <input class="toggle" type="checkbox" />
        <div class="tracker-content">
          <h3></h3>
          <p></p>
          <div class="tags" hidden></div>
        </div>
        <span class="badge"></span>
        <button
          class="remove-item"
          type="button"
          hidden
          aria-label="Remove custom item"
        >
          ×
        </button>
      </div>
    </template>

    <button
      class="note-fab"
      type="button"
      data-open-note
      aria-label="Create a quick note"
    >
      Quick note
    </button>

    <dialog class="note-dialog" data-note-dialog>
      <form method="dialog" class="note-dialog__form" data-note-dialog-form>
        <h3>Quick note</h3>
        <p class="subtle">
          Capture a reflection without leaving the page. You'll find it again in
          the journal.
        </p>
        <div class="field">
          <label for="note-dialog-text">Reflection</label>
          <textarea
            id="note-dialog-text"
            name="note"
            rows="5"
            data-note-dialog-field
            placeholder="What did you learn or troubleshoot?"
          ></textarea>
        </div>
        <p class="form-error" data-note-dialog-error hidden role="alert"></p>
        <div class="dialog-actions">
          <button type="reset" value="cancel" data-note-dialog-cancel>
            Cancel
          </button>
          <button type="submit" class="primary" data-note-dialog-save>
            Save note
          </button>
        </div>
      </form>
    </dialog>

    <script src="app.js" defer></script>
  </body>
</html>
